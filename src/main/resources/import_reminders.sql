-- SQL script to create the reminders table and import data from tasks.json
-- Run this script against the grease_data database

-- Create the reminders table if it doesn't exist
CREATE TABLE IF NOT EXISTS reminders (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    reminder_id VARCHAR(50) UNIQUE NOT NULL,
    batch VARCHAR(20) NOT NULL,
    interval_type VARCHAR(10) NOT NULL,
    due DATETIME NOT NULL,
    notified BOOLEAN DEFAULT FALSE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_batch (batch),
    INDEX idx_due (due),
    INDEX idx_notified (notified)
);

-- Import data from tasks.json
-- Note: Replace these INSERT statements with the actual data from your tasks.json file
-- The following data was exported from C:\web_app\full\tasks.json

INSERT INTO reminders (reminder_id, batch, interval_type, due, notified, created_at) VALUES
('NF5102X-1y', 'NF5102X', '1y', '2026-06-24 15:01:43', FALSE, NOW()),
('NF5102Y-1y', 'NF5102Y', '1y', '2026-06-25 15:01:50', FALSE, NOW()),
('NG5103X-1y', 'NG5103X', '1y', '2026-07-24 10:13:35', FALSE, NOW()),
('NG5103Y-1y', 'NG5103Y', '1y', '2026-07-24 11:23:02', FALSE, NOW()),
('NG5104X-1y', 'NG5104X', '1y', '2026-07-25 11:37:16', FALSE, NOW()),
('NG5104Y-1y', 'NG5104Y', '1y', '2026-07-25 11:37:23', FALSE, NOW()),
('NG5105Y-1y', 'NG5105Y', '1y', '2026-07-29 18:09:07', FALSE, NOW()),
('NG5105X-1y', 'NG5105X', '1y', '2026-07-30 12:57:36', FALSE, NOW()),
('NH5100X-1y', 'NH5100X', '1y', '2026-08-05 12:02:20', FALSE, NOW()),
('NH5100Y-1y', 'NH5100Y', '1y', '2026-08-05 12:38:48', FALSE, NOW()),
('NH5105X-1y', 'NH5105X', '1y', '2026-08-26 19:19:55', FALSE, NOW()),
('NH5106Y-1y', 'NH5106Y', '1y', '2026-08-28 19:22:52', FALSE, NOW()),
('NH5106X-1y', 'NH5106X', '1y', '2026-08-29 14:43:25', FALSE, NOW()),
('NH5107X-1y', 'NH5107X', '1y', '2026-09-02 19:22:12', FALSE, NOW()),
('NH5107Y-1y', 'NH5107Y', '1y', '2026-09-03 19:00:00', FALSE, NOW()),
('NI5100X-1y', 'NI5100X', '1y', '2026-09-08 19:00:00', FALSE, NOW()),
('NI5100Y-1y', 'NI5100Y', '1y', '2026-09-08 19:00:00', FALSE, NOW()),
('NH5105Y-1y', 'NH5105Y', '1y', '2026-09-09 19:00:00', FALSE, NOW()),
('NI5101X-1y', 'NI5101X', '1y', '2026-09-09 19:00:00', FALSE, NOW()),
('NI5101Y-1y', 'NI5101Y', '1y', '2026-09-09 19:00:00', FALSE, NOW()),
('NI5108X-1y', 'NI5108X', '1y', '2026-09-25 19:00:00', FALSE, NOW()),
('NI5108Y-1y', 'NI5108Y', '1y', '2026-09-25 19:00:00', FALSE, NOW()),
('NI5109X-1y', 'NI5109X', '1y', '2026-09-26 19:00:00', FALSE, NOW()),
('NI5109Y-1y', 'NI5109Y', '1y', '2026-09-29 19:00:00', FALSE, NOW()),
('NK5100X-3m', 'NK5100X', '3m', '2026-02-05 19:00:00', FALSE, NOW()),
('NK5100X-1y', 'NK5100X', '1y', '2026-11-05 19:00:00', FALSE, NOW()),
('NK5100Y-3m', 'NK5100Y', '3m', '2026-02-05 19:00:00', FALSE, NOW()),
('NK5100Y-1y', 'NK5100Y', '1y', '2026-11-05 19:00:00', FALSE, NOW()),
('NK5101X-3m', 'NK5101X', '3m', '2026-02-13 19:00:00', FALSE, NOW()),
('NK5101X-1y', 'NK5101X', '1y', '2026-11-13 19:00:00', FALSE, NOW()),
('NK5101Y-3m', 'NK5101Y', '3m', '2026-02-13 19:00:00', FALSE, NOW()),
('NK5101Y-1y', 'NK5101Y', '1y', '2026-11-13 19:00:00', FALSE, NOW()),
('NJ5103X-3m', 'NJ5103X', '3m', '2026-02-13 19:00:00', FALSE, NOW()),
('NJ5103X-1y', 'NJ5103X', '1y', '2026-11-13 19:00:00', FALSE, NOW()),
('NJ5103Y-3m', 'NJ5103Y', '3m', '2026-02-13 19:00:00', FALSE, NOW()),
('NJ5103Y-1y', 'NJ5103Y', '1y', '2026-11-13 19:00:00', FALSE, NOW()),
('NK5106X-3m', 'NK5106X', '3m', '2026-02-20 19:00:00', FALSE, NOW()),
('NK5106X-1y', 'NK5106X', '1y', '2026-11-20 19:00:00', FALSE, NOW()),
('NK5106Y-3m', 'NK5106Y', '3m', '2026-02-20 19:00:00', FALSE, NOW()),
('NK5106Y-1y', 'NK5106Y', '1y', '2026-11-20 19:00:00', FALSE, NOW()),
('NK5107X-3m', 'NK5107X', '3m', '2026-02-21 19:00:00', FALSE, NOW()),
('NK5107X-1y', 'NK5107X', '1y', '2026-11-21 19:00:00', FALSE, NOW()),
('NK5107Y-3m', 'NK5107Y', '3m', '2026-02-21 19:00:00', FALSE, NOW()),
('NK5107Y-1y', 'NK5107Y', '1y', '2026-11-21 19:00:00', FALSE, NOW()),
('NL5100X-3m', 'NL5100X', '3m', '2026-03-02 19:00:00', FALSE, NOW()),
('NL5100X-1y', 'NL5100X', '1y', '2026-12-02 19:00:00', FALSE, NOW()),
('NL5100Y-3m', 'NL5100Y', '3m', '2026-03-02 19:00:00', FALSE, NOW()),
('NL5100Y-1y', 'NL5100Y', '1y', '2026-12-02 19:00:00', FALSE, NOW()),
('NL5111-3m', 'NL5111', '3m', '2026-03-30 19:00:00', FALSE, NOW()),
('NL5111-1y', 'NL5111', '1y', '2026-12-30 19:00:00', FALSE, NOW()),
('NL5113-3m', 'NL5113', '3m', '2026-03-30 19:00:00', FALSE, NOW()),
('NL5113-1y', 'NL5113', '1y', '2026-12-30 19:00:00', FALSE, NOW()),
('NL5115-3m', 'NL5115', '3m', '2026-03-30 19:00:00', FALSE, NOW()),
('NL5115-1y', 'NL5115', '1y', '2026-12-30 19:00:00', FALSE, NOW()),
('NL5116-3m', 'NL5116', '3m', '2026-03-31 19:00:00', FALSE, NOW()),
('NL5116-1y', 'NL5116', '1y', '2026-12-31 19:00:00', FALSE, NOW()),
('NL5117-3m', 'NL5117', '3m', '2026-04-03 19:00:00', FALSE, NOW()),
('NL5117-1y', 'NL5117', '1y', '2027-01-03 19:00:00', FALSE, NOW()),
('NA6006-3m', 'NA6006', '3m', '2026-04-05 19:00:00', FALSE, NOW()),
('NA6006-1y', 'NA6006', '1y', '2027-01-05 19:00:00', FALSE, NOW()),
('NA6013-3m', 'NA6013', '3m', '2026-04-05 19:00:00', FALSE, NOW()),
('NA6013-1y', 'NA6013', '1y', '2027-01-05 19:00:00', FALSE, NOW()),
('NA6014-3m', 'NA6014', '3m', '2026-04-07 19:00:00', FALSE, NOW()),
('NA6014-1y', 'NA6014', '1y', '2027-01-07 19:00:00', FALSE, NOW()),
('NA6019X-3m', 'NA6019X', '3m', '2026-04-08 19:00:00', FALSE, NOW()),
('NA6019X-1y', 'NA6019X', '1y', '2027-01-08 19:00:00', FALSE, NOW()),
('NA6019Y-3m', 'NA6019Y', '3m', '2026-04-08 19:00:00', FALSE, NOW()),
('NA6019Y-1y', 'NA6019Y', '1y', '2027-01-08 19:00:00', FALSE, NOW()),
('NA6020X-3m', 'NA6020X', '3m', '2026-04-09 19:00:00', FALSE, NOW()),
('NA6020X-1y', 'NA6020X', '1y', '2027-01-09 19:00:00', FALSE, NOW()),
('NA6020Y-3m', 'NA6020Y', '3m', '2026-04-09 19:00:00', FALSE, NOW()),
('NA6020Y-1y', 'NA6020Y', '1y', '2027-01-09 19:00:00', FALSE, NOW()),
('NA6020Z-3m', 'NA6020Z', '3m', '2026-04-09 19:00:00', FALSE, NOW()),
('NA6020Z-1y', 'NA6020Z', '1y', '2027-01-09 19:00:00', FALSE, NOW()),
('NA6021X-3m', 'NA6021X', '3m', '2026-04-12 19:00:00', FALSE, NOW()),
('NA6021X-1y', 'NA6021X', '1y', '2027-01-12 19:00:00', FALSE, NOW()),
('NA6021Y-3m', 'NA6021Y', '3m', '2026-04-13 19:00:00', FALSE, NOW()),
('NA6021Y-1y', 'NA6021Y', '1y', '2027-01-13 19:00:00', FALSE, NOW()),
('NA6033-3m', 'NA6033', '3m', '2026-04-19 19:00:00', FALSE, NOW()),
('NA6033-1y', 'NA6033', '1y', '2027-01-19 19:00:00', FALSE, NOW()),
('NA6034-3m', 'NA6034', '3m', '2026-04-19 19:00:00', FALSE, NOW()),
('NA6034-1y', 'NA6034', '1y', '2027-01-19 19:00:00', FALSE, NOW()),
('NA6043-3m', 'NA6043', '3m', '2026-04-22 19:00:00', FALSE, NOW()),
('NA6043-1y', 'NA6043', '1y', '2027-01-22 19:00:00', FALSE, NOW()),
('NA6053-3m', 'NA6053', '3m', '2026-04-23 19:00:00', FALSE, NOW()),
('NA6053-1y', 'NA6053', '1y', '2027-01-23 19:00:00', FALSE, NOW()),
('NA6101-3m', 'NA6101', '3m', '2026-04-28 19:00:00', FALSE, NOW()),
('NA6101-1y', 'NA6101', '1y', '2027-01-28 19:00:00', FALSE, NOW()),
('NA6102-7d', 'NA6102', '7d', '2026-02-05 19:00:00', FALSE, NOW()),
('NA6102-3m', 'NA6102', '3m', '2026-04-29 19:00:00', FALSE, NOW()),
('NA6102-1y', 'NA6102', '1y', '2027-01-29 19:00:00', FALSE, NOW()),
('NB6100X-7d', 'NB6100X', '7d', '2026-02-09 19:00:00', FALSE, NOW()),
('NB6100X-3m', 'NB6100X', '3m', '2026-05-02 19:00:00', FALSE, NOW()),
('NB6100X-1y', 'NB6100X', '1y', '2027-02-02 19:00:00', FALSE, NOW()),
('NB6100Y-48h', 'NB6100Y', '48h', '2026-02-05 19:00:00', FALSE, NOW()),
('NB6100Y-7d', 'NB6100Y', '7d', '2026-02-10 19:00:00', FALSE, NOW()),
('NB6100Y-3m', 'NB6100Y', '3m', '2026-05-03 19:00:00', FALSE, NOW()),
('NB6100Y-1y', 'NB6100Y', '1y', '2027-02-03 19:00:00', FALSE, NOW()),
('NA6069-48h', 'NA6069', '48h', '2026-02-05 19:00:00', FALSE, NOW()),
('NA6069-7d', 'NA6069', '7d', '2026-02-10 19:00:00', FALSE, NOW()),
('NA6069-3m', 'NA6069', '3m', '2026-05-03 19:00:00', FALSE, NOW()),
('NA6069-1y', 'NA6069', '1y', '2027-02-03 19:00:00', FALSE, NOW()),
('NA6077-48h', 'NA6077', '48h', '2026-02-05 19:00:00', FALSE, NOW()),
('NA6077-7d', 'NA6077', '7d', '2026-02-10 19:00:00', FALSE, NOW()),
('NA6077-3m', 'NA6077', '3m', '2026-05-03 19:00:00', FALSE, NOW()),
('NA6077-1y', 'NA6077', '1y', '2027-02-03 19:00:00', FALSE, NOW()),
('NB6101X-48h', 'NB6101X', '48h', '2026-02-06 19:00:00', FALSE, NOW()),
('NB6101X-7d', 'NB6101X', '7d', '2026-02-11 19:00:00', FALSE, NOW()),
('NB6101X-3m', 'NB6101X', '3m', '2026-05-04 19:00:00', FALSE, NOW()),
('NB6101X-1y', 'NB6101X', '1y', '2027-02-04 19:00:00', FALSE, NOW())
ON DUPLICATE KEY UPDATE
    batch = VALUES(batch),
    interval_type = VALUES(interval_type),
    due = VALUES(due),
    notified = VALUES(notified);
